
<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('partials/head') %>
    <title>BookNest - Catalog</title>
</head>
<body>
    <%- include('partials/header') %>
    <main>
        <h1>Book Catalog</h1>
        <ul>
            <% books.forEach(function(book) { %>
                <li>
                    <strong><%= book.Title %></strong> by <%= book.Author %> - <%= book.LibraryName %>
                    <% if (book.IsAvailable) { %>
                        <% if (user) { %>
                            <form action="/reserve" method="POST" style="display:inline;">
                                <input type="hidden" name="bookId" value="<%= book.BookID %>">
                                <button type="submit">Reserve</button>
                            </form>
                        <% } else { %>
                            <a href="/login">Login to reserve</a>
                        <% } %>
                    <% } else { %>
                        - Currently Unavailable
                    <% } %>
                </li>
            <% }); %>
        </ul>
    </main>
    <%- include('partials/footer') %>
</body>
</html>
